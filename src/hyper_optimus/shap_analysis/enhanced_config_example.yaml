# 增强SHAP分析配置示例
# 展示如何使用新的评分平衡和数据验证功能

# 基础配置
enabled_strategies:
  - numeric
  - sequence
  - text
  - categorical

output_dir: "./shap_results"
save_plots: true

# 新功能配置开关
enable_data_validation: true
enable_score_rebalancing: true

# 评分平衡配置（可选，会覆盖默认权重）
score_balancing:
  # 降低文本特征的长度权重，增加丰富度权重
  text:
    length_importance: 0.15  # 从默认0.2降低
    richness_importance: 0.45   # 从默认0.4提高
    diversity_importance: 0.25
    non_empty_ratio: 0.15
  
  # 数值特征权重调整
  numeric:
    variance_importance: 0.35
    range_importance: 0.20
    entropy_importance: 0.30
    mean_magnitude: 0.15
  
  # 序列特征保持平衡
  sequence:
    temporal_importance: 0.25
    complexity_importance: 0.25
    entropy_importance: 0.25
    pattern_diversity: 0.25

# 数据验证配置
data_validation:
  # 验证严格程度：'strict', 'normal', 'lenient'
  strictness: 'normal'
  
  # 是否在验证失败时停止分析
  stop_on_validation_failure: false
  
  # 数据质量阈值
  quality_thresholds:
    # 序列数据的最小长度
    min_sequence_length: 2
    
    # 数值数据的最大零值比例
    max_zero_ratio: 0.95
    
    # 文本数据的最大空文本比例
    max_empty_text_ratio: 0.5
    
    # 分类特征的最小类别数
    min_category_count: 2

# 输出配置
output:
  # 是否包含原始指标数据
  include_original_metrics: true
  
  # 是否包含验证报告
  include_validation_report: true
  
  # 是否包含评分平衡统计
  include_balancing_stats: true

# 可视化配置
visualization:
  # 重要性图表显示前N个特征
  top_features_count: 20
  
  # 图表分辨率
  dpi: 300
  
  # 图表尺寸
  figure_size: [14, 10]
  
  # 颜色主题
  color_scheme:
    numeric: '#1f77b4'
    sequence: '#2ca02c'
    text: '#ff7f0e'
    categorical: '#d62728'

# 日志配置
logging:
  # 日志级别：'DEBUG', 'INFO', 'WARNING', 'ERROR'
  level: 'INFO'
  
  # 是否显示详细的评分平衡信息
  show_balancing_details: true
  
  # 是否显示数据验证详情
  show_validation_details: true